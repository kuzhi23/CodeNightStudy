<!--
파일 이름은 날짜-카테고리 (예시: 2021-03-21-network.md)
-->

[Network] 

## 웹 통신의 큰 흐름: https://www.google.com/ 을 접속할 때 일어나는 일

사용자가 웹 브라우저를 통해 주소를 입력하면, URL 주소 중 도메인 네임 부분을 DNS 서버에서 검색합니다.
DNS 서버에서 해당 도메인 네임에 매칭되는 IP 주소를 찾아, 사용자가 입력한 URL 정보와 함께 전달합니다. 브라우저는 HTTP 프로토콜을 사용하여 request message를 생성하고, 이는 TCP/IP 프로토콜을 통해 서버로 전송됩니다. 서버는 response 메시지를 생성하여 다시 브라우저에게 데이터를 전송하고, 브라우저는 response를 받아 파싱하여 화면에 렌더링합니다.


+ OSI7계층이랑 연관지어 설명하라는 경우도 있나본데

우선 우리가 주소를 입력했을 때, 사용자와 가장 가까운 7계층인 애플리케이션 계층에 속하는 DNS는 URL주소를 IP 주소로 변환하는 역할을 한다. 점으로 구분되는 계층적인 구조로, 계층의 끝인 root dns 서버가 나올때까지 lookup이 이루어진다. 이렇게해서 IP주소를 받아오고나면 데이터를 전송하는데, 브라우저는 같은 7계층인 HTTP 프로토콜을 사용해 request 메시지를 작성하여 해당 IP주소로 리소스를 요청한다. 이 때 데이터 전송은 4계층 TCP 프로토콜을 통해 이루어진다.

TCP란 전송 제어 프로토콜로, 데이터 전송을 제어하고 데이터를 어떻게 보낼지 등을 정한다. TCP/IP 프로토콜에서 IP 프로토콜은 비신뢰성과 비연결성의 특징을 가지고 있기 때문에, TCP 프로토콜이 신뢰성과 연결성을 담당한다. IP 프로토콜이 다른 네트워크 상에 있는 곳과 데이터 전송을 담당하는 동시에 TCP 프로토콜이 신뢰성 있는 전송을 책임지는 것이다. TCP 프로토콜은 통신에 컨텍스트를 부여하여 흐름을 관리한다. 

TCP 계층까지는 암호화 등의 보안 기능을 제공하지 않는데, 여기서 SSL, TLS는 네트워크에 통신 보안을 제공하는 레이어로, 이를 사용한 보안 프로토콜 중 가장 대표적인 것이 HTTPS이다.

다른 네트워크 대역의 컴퓨터와 통신을 하기 위해, 3계층에 해당하는 IP 프로토콜은 어드레싱과 라우팅에 해당하는 인터넷 작업을 수행한다. 비신뢰성, 비연결성 프로토콜로서 패킷을 받아서 주소를 해석하고 경로를 결정하여 다음 호스트로 전송하게 된다.

(+ 어드레싱이란 IP 주소 지정 작업으로, 어드레스를 어떻게 써서 어떻게 배당하는지에 대한 작업인데, 2계층에서는 물리적인 MAC 주소를 사용하고, 3계층에서는 추가적으로 위치 정보를 가지는 논리적 주소인 IP주소를 사용한다. 라우팅은 목적지까지의 경로와 경유하는 네트워크를 결정하는 과정으로, 데이터를 목적지까지 전달하기 위해 네트워크 장비인 라우터가 서로 다른 네트워크를 연결한다. 한 라우터는 다음 네트워크의 경로를 찾고, 그 경로상에 있는 라우터에 데이터를 전달한다.)

이렇게 다른 네트워크 대역에서 전달받은 데이터를, LAN 대역의 통신장비에 전달하는 것은 2계층에서 진행되는데, 목적지 LAN에 도착한 패킷은 웹 서버로 들어가고, 웹 서버 애플리케이션에서 요청에 대한 응답 데이터를 작성하여 같은 방식으로 전송하게 된다.

응답을 받은 브라우저는 이 문서를 파싱하여 렌더링한다.

<br>

## GET과 POST의 차이점에 대해서 설명해보세요.

GET 요청은 서버에 존재하는 정보를 요청합니다. 요청하는 데이터는 요청 메세지의 헤더 url에 담겨 전송되는데, 데이터는 url의 쿼리 파라미터로 붙어 요청을 보내게 됩니다. url에 담겨가기 때문에 전송할 수 있는 데이터의 크기가 제한적이고, 보안이 필요한 데이터에 대해서는 데이터가 url에 노출되기 때문에 GET 방식은 적절하지 않습니다.

POST 요청은 서버에 정보를 생성하는 것을 요청합니다. 요청하는 데이터는 요청 메세지의 바디에 담겨 전송되기 때문에 데이터 크기가 GET 방식보다 크고 보안면에서 조금 더 낫습니다. 

결론적으로 GET은 가져오는 것이기 때문에 서버의 값이나 상태 등을 변경하지 않는 SELECT의 기능이고, POST는 서버의 값이나 상태를 변경 또는 추가하기 위해서 사용됩니다.